<?python
        from plone import api
        url = api.portal.get().absolute_url()
?>
<script>
var PORTAL_URL = '${url}'
</script>

<link rel="stylesheet" href="//apps.bdimg.com/libs/jqueryui/1.10.4/css/jquery-ui.min.css">
<script src="//apps.bdimg.com/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="${url}/++plone++MarieClaire.content/show_trace_page.js"></script>
<link rel="stylesheet" href="${url}/++plone++MarieClaire.content/custom.css"/>

<body>
      <div class="show_trace_content">
            <label>請選擇網址
                  <select  name="url" id="url" class="show_trace_select show_trace_select_margin">
                        <option tal:define="url_list python:view.get_trace_list()"
                              tal:repeat="url url_list" tal:content="url"></option>
                  </select>
            </label>

            <label class="select_all_container">
                  <input type="checkbox" value="select_all" id="select_all"/>全選
            </label>

            <p>開始日期: <input type="text" id="start_date"></p>
            <p>結束日期: <input type="text" id="end_date"></p>
            <button id='btn' class="show_trace_btn" >送出</button><br/>
            
            <?python
                  from plone import api
                  event_list = api.content.find(
                        context=api.portal.get(), portal_type='Event')
            ?>
            <label tal:repeat="event event_list" class="show_trace_checkbox">
                  <input  tal:attributes="data-start event/start;data-end event/end;
                                          data-title event/Title"
                          type="checkbox" class="vertical_mid"/>
                  <span  tal:content="event/Title"></span>
            </label>
      </div>
      <svg id='svg'  ></svg>

</body>
